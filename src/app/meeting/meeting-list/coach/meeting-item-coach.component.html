<div class="meeting-item col-lg-12" [class.closed]="!meeting.isOpen" [class.unbooked]="!meeting.agreed_date">
  <!--<span class="card-title">Vous avez choisi {{ coach.display_name }} pour être votre coach.</span>-->

  <div class="preloader-wrapper active" *ngIf="loading">
    <div class="spinner-layer spinner-blue-only">
      <div class="circle-clipper left">
        <div class="circle"></div>
      </div><div class="gap-patch">
      <div class="circle"></div>
    </div><div class="circle-clipper right">
      <div class="circle"></div>
    </div>
    </div>
  </div>

  <div class="row" *ngIf="!loading">

    <!-- COACH -->
    <div class="meeting-item-header col-sm-4 col-md-4 col-lg-2">
      <div>
        <div>
          <!-- image coach-->
          <img *ngIf="meeting.coachee" class="meeting-item-coach-avatar circle img-responsive" alt="coachee" [src]="meeting.coachee.avatar_url">
          <img *ngIf="!meeting.coachee" class="meeting-item-coach-avatar circle img-responsive" alt="coachee" src="https://s-media-cache-ak0.pinimg.com/originals/af/25/49/af25490494d3338afef00869c59fdd37.png">
        </div>

        <div>
          <p class="meeting-item-coach" *ngIf="meeting.coachee">{{ meeting.coachee.display_name }}</p>
          <p class="meeting-item-coach" *ngIf="!meeting.coachee">Un coach vous sera bientôt attribué</p>
        </div>
      </div>
    </div>

    <!-- DATE -->
    <div class="meeting-item-date col-sm-8 col-lg-3" *ngIf="meeting.agreed_date">
      <div *ngIf="meeting.agreed_date">
        <span class="meeting-item-date-date">{{ getDate(meeting.agreed_date.start_date) }}</span>
        <span class="meeting-item-date-hour">{{ getHours(meeting.agreed_date.start_date) }}:00</span>
      </div>
    </div>

    <!-- GOAL & REVIEW -->
    <div class="meeting-item-body col-md-12 col-lg-7" [class.col-lg-10]="!meeting.agreed_date">
      <p class="meeting-item-goal">
        <span class="black-text bold">Objectif: </span>
        <span *ngIf="hasGoal">{{ goal }}</span>
        <span *ngIf="!hasGoal" class="red-text">Pas encore défini...</span>
      </p>

      <!--Complétées-->
      <div *ngIf="!meeting.isOpen" class="meeting-review">
        <div *ngIf="hasValue && hasNextStep">
          <br>
          <p><span class="black-text bold">En quoi la séance a-t-elle été utile ? </span>{{ reviewValue }}</p>
          <br>
          <p><span class="black-text bold">Avec quoi êtes vous reparti ? </span>{{ reviewNextStep }}</p>
        </div>
      </div><!--end meeting-review-->

      <!--Demandes disponibles-->
      <div *ngIf="!meeting.agreed_date" class="meeting-review">
        <div>
          <br>
          <p><span class="black-text bold">Disponibilités :</span></p>
          <div class="meeting-potential" *ngFor="let potential of potentialDates | async">
            <span class="meeting-potential-date">{{ getDate(potential.start_date) }}</span>
            <span class="meeting-potential-hours">{{ getHours(potential.start_date) }}:00 - {{ getHours(potential.end_date) }}:00</span>
          </div>
          <br>
          <p><span class="black-text bold">Réponse :</span></p>
        </div>
      </div><!--end meeting-review-->
    </div><!--end meeting-item-body-->

    <button class="btn-basic btn-plain btn-green btn-small" *ngIf="meeting.isOpen && !meeting.agreed_date">DETAIL</button>

  </div><!--end row-->

</div><!--end meeting-item-->



<!--
<div class="card">
  <div class="card-content">
    <span class="card-title">Vous avez été choisi par {{ coachee.display_name }} pour une séance.</span>


    &lt;!&ndash; Meeting is closed&ndash;&gt;
    <div *ngIf="!meeting.isOpen">
      <h4>Meeting is now closed</h4>
    </div>

    &lt;!&ndash; Meeting is open &ndash;&gt;
    <div *ngIf="meeting.isOpen">
      <div class="col s12" *ngIf="meeting.agreed_date == null">

        &lt;!&ndash; no potential dates selected&ndash;&gt;
        <div class="section" *ngIf="(potentialDates | async)== null">
          <h5>Votre coachee doit d'abord indiquer ses préférences horaires</h5>
        </div>

        &lt;!&ndash; some potential dates selected&ndash;&gt;
        <div class="section" *ngIf="(potentialDates | async)!= null">
          <h5>Votre coachee a indiqué ses préférences horaires</h5>

          &lt;!&ndash; list of potential dates &ndash;&gt;
          <div *ngFor="let date of potentialDates | async">
            <h6>Possible date</h6>
            <p>Le : {{date.start_date | date}}</p>
            <p>De : {{date.start_date | date:'shortTime'}}</p>
            <p>A : {{date.end_date | date:'shortTime'}}</p>

            <button class="btn cyan waves-effect waves-light right" (click)="confirmPotentialDate(date)">
              Confirmer cette date
              <i class="mdi-content-send right"></i>
            </button>

          </div>
        </div>

      </div>

      <div class="col s12" *ngIf="meeting.agreed_date ">
        <h5>Votre meeting est le : {{meeting.agreed_date.start_date | date}} à {{meeting.agreed_date.start_date | date:'shortTime'}} </h5>
      </div>

    </div>


    &lt;!&ndash; check if you have some reviews&ndash;&gt;
    <div class="container" *ngIf="(hasSomeReviews | async)">

      <h4>Comments</h4>

      &lt;!&ndash; list of reviews &ndash;&gt;
      <div *ngFor="let review of reviews | async">

        <div class="card">
          <div class="card-content">
            <span class="card-title">Meeting Review</span>
            <div class="list-group-item-text">at : {{review.date}}</div>
            <div class="list-group-item-text">comment : {{review.comment}}</div>
            <div class="list-group-item-text">score : {{review.score}}</div>
          </div>
        </div>
      </div>

    </div>
    &lt;!&ndash; /reviews&ndash;&gt;

    &lt;!&ndash; Display Close Form is the Meeting is still open &ndash;&gt;
    <div *ngIf="meeting.isOpen" class="card">

      <div class="card-content">

        <h5>Close this meeting</h5>

        <form [formGroup]="closeMeetingForm" (ngSubmit)="submitCloseMeetingForm()">

          <div class="form-group">
            <label for="recap">Résumé du meeting</label>
            <input
              type="text"
              id="recap"
              class="form-control"
              formControlName="recap">
          </div>

          &lt;!&ndash;<button type="submit" class="btn btn-success">Envoyer</button>&ndash;&gt;
          &lt;!&ndash;<button type="submit" class="btn btn-success" [disabled]="!closeMeetingForm.valid">Envoyer</button>&ndash;&gt;
          <button class="btn cyan waves-effect waves-light right" type="submit" name="action">
            Fermer le meeting
            <i class="mdi-content-send right"></i>
          </button>
        </form>
      </div>
    </div>


  </div>


</div>
-->
